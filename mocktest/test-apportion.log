Using network 'hardhat'.

USDC addr:0x6FA0DD09ff4E20fF429bFCaFFDAa360a0a1cF6Cf
LongFraction:0
ShortFraction:0
SpotPrice:200
approve done, gas:46230
underlyingPrice:200
 fund  balanceOf : 0
 house  balanceOf : 0
transfer done, gas:51691
 user2  balanceOf : 11000
approve done, gas:46218

  ===  user2 做多 ===

openPosition done, gas:512274

 getPosition

Pos baseAsset:29.955067398901647528
Pos margin:1000
Pos openNotional:6000
Pos lastUpdatedCumulativePremiumFraction:0
Pos liquidityHistoryIndex:undefined
Pos blockNumber:17
SpotPrice:200.600449999999999999
MarginRatio:0.166666666666666666

  ===  set price 180 ===


  ===  user 0 short1 ===

openPosition done, gas:399895
SpotPrice:181.070449999999999999
MarginRatio:0.164241510710483638

  ===  delay 10 min ===


  ===  set price 160 ===


  ===  user 0 short2 ===

openPosition done, gas:421021
SpotPrice:162.540449999999999999
MarginRatio:0.086434512845921772

  ===  delay 10 min ===


  ===  set price 150 ===


 getPosition

Pos baseAsset:-2215.201878269672584857
Pos margin:200000
Pos openNotional:400000
Pos lastUpdatedCumulativePremiumFraction:0
Pos liquidityHistoryIndex:undefined
Pos blockNumber:21
SpotPrice:162.540449999999999999
MarginRatio:0.009309093819982714
 fund  balanceOf : 406
 accounts[2]  balanceOf : 9994
 fund  balanceOf : 156
MarginRatio:0.499999999999999999

  ===  liquidate  ===

liquidate done, gas:377342
 fund  balanceOf : 0
 accounts[2]  balanceOf : 9994
SpotPrice:162.102405139325484265
MarginRatio:0.5042481771665625
Long:0
Short:-2215.201878269672584857
LongFraction:0
ShortFraction:0.005437327754745947